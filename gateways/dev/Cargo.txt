[package]
name = "external"
version = "0.1.0"
authors = ["Geoffrey Garrett"]
edition = "2021"
description = "A Rust package for interacting with various external APIs."
repository = "http://example.com/external/repository"
documentation = "http://example.com/external/documentation"
homepage = "http://example.com/external"
build = "build.rs"

[[bin]]
name = "external"
path = "src/main.rs"


[features]
default = ["use_github", "use_azure", "use_openai", "use_builder", "use_reqwest", "use_tracing", "use_serde", "use_with_serde"]
#external_github = ["github_deps"]
use_github = []
use_azure = []
use_openai = []
use_builder = ["derive_builder"]
use_reqwest = ["reqwest"]
use_reqwest_middleware = ["reqwest-middleware"]
use_hyper = ["hyper", "hyper-tls", "http", "base64", "futures"]
use_aws_sigv4 = ["aws-sigv4"]
use_cached = ["cached"]
use_tracing = ["tracing"]
use_serde = ["serde", "serde_json"]
use_with_serde = ["serde_with"]

# General dependencies across all external APIs
[dependencies]
serde = { version = "1.0.130", features = ["derive"], optional = true }
serde_json = { version = "1.0", optional = true }
serde_with = { version = "3.8", default-features = false, features = ["base64", "std", "macros"], optional = true }
url = { version = "2.2", optional = true }
uuid = { version = "0.8", features = ["serde", "v4"], optional = true }
hyper = { version = "0.14", features = ["full"], optional = true }
hyper-tls = { version = "0.5", optional = true }
http = { version = "0.2", optional = true }
base64 = { version = "0.13", optional = true }
futures = { version = "0.3", optional = true }
derive_builder = { version = "0.10", optional = true }
reqwest = { version = "0.11", features = ["json", "blocking", "multipart"], optional = true }
reqwest-middleware = { version = "0.3.2", features = ["json"], optional = true }
aws-sigv4 = { version = "1.2.3", optional = true }
cached = { version = "0.53.1", optional = true }
tracing = { version = "0.1.25", optional = true }
wait-timeout = "0.2.0"

## Conditional compilation based on features
external_github = { path = "libs/external_github", optional = true }
external_azure = { path = "libs/external_azure", optional = true }
external_openai = { path = "libs/external_openai", optional = true }

[build-dependencies]
wait-timeout = "0.2"
cargo-make = "0.37.14"
